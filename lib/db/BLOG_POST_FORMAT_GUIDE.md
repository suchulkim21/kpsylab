# 📝 블로그 포스트 작성 가이드 (AI 작성용)

이 문서는 KPSY LAB Portal의 **블로그 포스트 형식**을 AI가 정확히 생성하도록 안내합니다.
포스트는 Supabase의 `blog_posts` 테이블에 저장됩니다.

---

## 1) 저장 구조 (blog_posts)

필수/선택 필드와 형식:

- `title` (필수): 문자열, 중복 금지 권장
- `content` (필수): 문자열, **HTML 마크업 포함**
- `author` (필수): 문자열
- `date` (필수): `YYYY-MM-DD` 형식 문자열
- `tags` (선택): 쉼표(,)로 구분한 문자열
- `image` (선택): 이미지 경로 문자열
  - 권장: `/images/filename.png` 같은 **로컬 경로**

참고 스키마: `apps/portal/lib/db/supabase-schema.sql`

---

## 2) 콘텐츠 작성 규칙 (중요)

### HTML 기반 본문
`content`는 **HTML 문자열**이어야 합니다. 아래 태그 사용을 권장합니다.

- 제목: `<h3>`
- 본문: `<p>`
- 리스트: `<ul><li>...</li></ul>` 또는 `<ol><li>...</li></ol>`
- 강조: `<strong>`
- 인용: `<blockquote>`

### 권장 구조
1. **요약형 소제목**: `<h3>...</h3>`
2. **핵심 정의/맥락**: `<p>...</p>` 2~3개
3. **심화 설명/사례**: `<p>...</p>` 2~4개
4. **정리/시사점**: `<p>...</p>` 1~2개
5. **필요시 리스트/인용**

### 어투
- 전문적이고 단정한 문체
- 불필요한 이모지/과장 금지
- 심리학/행동과학 맥락 유지
- 주장형 문장 과다 사용 금지 (근거 기반 서술)
- 과도한 의학적/진단적 단정 금지 (일반 독자 대상 서술)

### 분량 기준
- **문자수 3000자 이상**
- 권장 문단 수: 6~10개
- `content` 안에 불필요한 줄바꿈 남발 금지

### 형식 제한
- `<h1>`, `<h2>` 사용 금지 (오직 `<h3>`만)
- 마크다운 문법 사용 금지
- 스크립트/스타일 태그 사용 금지

### 유사도 기준
- 다른 글과의 유사도 검사 **20% 미만**
- 기존 문장 재사용/유사한 문장 구조 반복 금지

---

## 3) 태그(tags) 규칙

- **쉼표로 구분된 문자열**
- 공백 없이 작성 권장
- 예: `마키아벨리즘,직장심리,리더십`
- 권장 개수: 2~5개

---

## 4) 이미지(image) 규칙

- **로컬 이미지 경로 권장**: `/images/파일명.png`
- 파일명은 **소문자 + 하이픈** 권장
- 예: `/images/cold-empathy.png`

- 이미지가 없으면 `image` 필드를 빈 문자열로 둬도 됨

외부 URL은 지양합니다. (URL 변경/삭제 위험)

### 저작권 준수 (필수)
- **저작권 없는 이미지**만 사용
- 이미지가 필요하면 다음 중 하나로 확보:
  - **저작권 프리 이미지 사이트**에서 합법적으로 다운로드
  - **이미지 자동 생성(AI 생성)** 후 사용
- 사용 출처/라이선스가 불명확한 이미지는 금지

---

## 5) 예시 (JSON 1건)

```json
{
  "title": "나르시시즘의 두 얼굴: 거대함과 취약함",
  "content": "<h3>자신을 사랑하는 것 이상의 문제</h3><p>나르시시즘은 단순한 자기애가 아닙니다...</p><p>거대성/취약성 유형은 서로 다른 방식으로 나타납니다...</p><ol><li><strong>거대성</strong>: 외향적, 과시적 성향</li><li><strong>취약성</strong>: 내향적, 과민한 반응</li></ol>",
  "author": "Prof. Mirror",
  "date": "2025-02-01",
  "tags": "나르시시즘,성격유형,자존감",
  "image": "/images/narcissism.png"
}
```

---

## 6) 금지/주의 사항

- `content`에 마크다운 사용 금지 (HTML만)
- `title` 중복 금지 (중복 시 API에서 최신만 노출됨)
- 날짜 포맷 오류 금지 (`YYYY-MM-DD` 고정)
- 저작권 불명확한 이미지 사용 금지
- 유사도 검사 점수 **20% 미만** (다른 글과의 유사도 테스트)
- 텍스트(문자)수 **3000자 이상** (자세하게 작성)
- 타 출처 직접 인용 금지 (필요 시 재서술)
- 의료/법률 조언처럼 보이는 문장 금지

---

## 7) 납품 형식 (AI 출력 권장)

AI는 다음 중 하나로 납품:

1. **JSON 배열** (다건 생성 시)
2. **개별 JSON 오브젝트** (단건 생성 시)

예: 
```json
[
  { "...": "..." },
  { "...": "..." }
]
```

---

## 8) 제출 전 체크리스트

- [ ] `title`이 기존 포스트와 중복되지 않음
- [ ] `content`는 HTML이며 `<h3>`, `<p>` 위주로 구성됨
- [ ] 문자수 3000자 이상
- [ ] 유사도 20% 미만
- [ ] 태그 2~5개, 쉼표 구분
- [ ] 이미지 경로가 로컬 형식이거나 빈 문자열

---

필요하면 이 문서에 “카테고리/금칙어/스타일 변형” 규칙을 추가할 수 있습니다.
